# Dataset Structure (Corrected)

This folder contains the **actual output** generated by the synthetic robot arm recorder.

Contrary to the previous version, the recorder **no longer saves one file per frame**.  
It now saves **three global `.npy` files**, each containing all frames stacked together.

---

## 1. `points.npy`

**Shape:** `(F, N, 3)`  
**Type:** `float32`

This file contains the **3D point cloud for all frames**.

- `F` = number of frames  
- `N` = number of points per frame (e.g., 512)  
- each point has coordinates:

```
[x, y, z]
```

**Index consistency:**  
Point `i` at frame `t` corresponds to the *same physical point* at frame `t+1`.

---

## 2. `knn_indices.npy`

**Shape:** `(F, N, K)`  
**Type:** `int32`

This file contains the **k-nearest-neighbor indices** for each frame.

For each frame and each point, the array lists the indices of its `K` closest neighbors:

```
[neighbor_1, neighbor_2, ..., neighbor_K]
```

This is the graph used by Topological Masking / Graph Random Features.

---

## 3. `timestamps.npy`

**Shape:** `(F,)`  
**Type:** `float32`

This contains one timestamp per frame (in seconds).

---

## Summary

| File | Shape | Description |
|------|--------|-------------|
| `points.npy` | `(F, N, 3)` | All point clouds |
| `knn_indices.npy` | `(F, N, K)` | k-NN graph per frame |
| `timestamps.npy` | `(F,)` | Time of each frame |

---

## Loading the dataset in Python

```python
import numpy as np

points = np.load("points.npy")          # (F, N, 3)
knn = np.load("knn_indices.npy")        # (F, N, K)
timestamps = np.load("timestamps.npy")  # (F,)

print(points.shape, knn.shape, timestamps.shape)
```
